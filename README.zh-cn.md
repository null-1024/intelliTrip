# Graduation project

异构模型与算法联动的智能旅行平台

## 项目简介

本项目专注于开发一个智能化的旅游平台，以满足现代游客多样化的需求并提升整体旅游体验。
随着旅游业的不断发展，游客在行程规划、景点选择和出行安排等方面对个性化和智能化服务的需求日益增加。为此，本平台通过整合多方旅游资源，提供从行程定制、景点推荐到在线预订的一站式服务，旨在帮助用户更便捷地规划和管理他们的旅行。平台特别关注用户体验，通过提供智能化的旅游建议和优化的出行方案，使用户能够更高效地选择适合自己的旅游线路和景点。同时，平台还具备强大的数据分析功能，能够基于用户行为和历史数据，提供个性化推荐，确保每次旅行都能带给用户独特的体验。
本项目致力于推动旅游行业的数字化转型，为用户带来更加智能、便捷和贴心的旅游服务，成为旅行者不可或缺的助手。

## 技术架构

在后端，平台使用了Spring Cloud和Spring MVC进行微服务架构的开发，结合Mybatis-plus简化数据库操作，确保系统的高效数据处理和灵活查询。
RabbitMQ用于处理异步消息，Redis和Redisson提供高效的数据缓存，Minio则负责对象存储。
MySQL作为关系型数据库存储用户数据和旅游信息，JWT用于用户身份验证，Docker用于容器化部署，确保应用的高可用性和可移植性。

前端部分采用了Vue 3和Element-Plus进行界面开发，结合Axios进行数据交互，提供了友好且响应迅速的用户界面。
管理端则基于RuoYi-Vue-master，方便进行后台管理和系统维护。

在数据科学和机器学习方面，平台利用Sklearn、Pandas、Numpy和Matplotlib等库进行数据分析和模型训练，提供智能化预测功能。
为了增强平台的功能性，还集成了多个第三方API，包括智谱清言AI接口用于自然语言处理，高德地图的导航和天气接口提供精准的地理和气象信息，百度AI的物体和场景识别接口则帮助提升用户对景点的了解和选择。

## 功能模块

### 3.1 用户管理模块

#### 功能概述

用户使用系统的任何操作，都必须是在登录在线的状态下才能进行，每一次的请求都会经过拦截器和过滤器，如果请求携带头以及token不规范都会返回错误状态码。因此任何操作都是以登录为基础的。
在此功能中，密码使用了SpringSecurity的散列加密，保证了密码的安全和保密。

#### 功能详情

- 用户登录
  - 输入验证: 用户输入用户Id和密码Password，系统在提交前会对输入内容进行格式验证，保证数据的完整性和有效性。
  - 身份验证: 提交后，系统通过登录接口对用户进行身份验证。用户名和密码经过加密处理后与数据库中的记录进行比对。
  - JWT生成: 登录成功后，系统通过Jwt加UUID生成用户独特的Token，作为个人用户每次访问接口的“钥匙”；
- 错误处理
  - 登录失败: 如果用户Id或密码错误，系统会返回适当的错误的状态码以及错误提示信息，提示用户重新输入。
  - 未注册用户: 如果用户尝试登录未注册的账户，系统会提示用户账户不存在。
- 账户安全
  - 密码加密: 用户密码在进入后端时经过加密处理，确保密码在数据库中的安全性，包括管理员也是无法明文获取用户的密码的。使用的加密算法为SpringSecurity的BCrypt散列加密算法。

### 3.2 景点模块

#### 功能概述

景点推送在请求中至少占用80%的比例，因此如果在线上环境的情况下，很有可能会让服务器卡顿，因此在此情况下，景点信息推送的内容采用了redisson分布式锁。
具体景点信息内容查询中（点击某个景点进入的页面），调用了天气的接口，能查询到当日的以及未来几天的天气情况。还能查询景点的具体信息，例如:地点，官方电话，开放时间，以及对于该景点的评论等功能。
在此页面的侧面能看到当地的部分酒店以及餐馆信息推送，实现了”一线式”的功能。

#### 功能详情

- 景点推送页面
  - 设计原理: 推送的信息采用的是动态更新，存放在redis中，如果此时redis的时间到了，然后过期时，防止其他用户的读取数据出现问题，采用了redisson分布式锁中的看门狗机制。它能将在规定时间内没有完成的线程，通过延长redis的过期时间方式，让线程执行完毕，保证了用户的线程安全。
- 用户反馈
  - 评论机制:用户可以对该景点进行评论，设计是通过数据库表的分层设计理念，将评论都反应在前端页面中。

### 3.3 旅馆模块

#### 功能概述

在旅馆模块中，会在对应的景点下推送当地的旅馆以及在其中查看旅馆对应信息。
在具体的旅馆页面中，侧边栏可以查看当地其他的旅馆信息，并且在具体内容中可以查看该旅馆的各种信息例如房间类型以及价格等。

#### 功能详情

- 旅馆推送页面
  - 设计想法: 在旅馆的具体页面中，可以查看旅馆或酒店的电话以及信息，关于用户的评论也能查看。在侧边栏，可以查看当地其他旅馆的信息，便于旅客比对不同旅馆的价格以及信息，挑选想要居住的居住环境。

### 3.4 饭店模块

#### 功能概述

在饭店模块中，会在对应的景点下推送当地的饭店以及在其中查看饭店对应信息。
在饭店页面，可以查看该饭店的推荐菜系以及用户对该饭店的评价，避免“踩雷”。

#### 功能详情

- 饭店推送页面
  - 设计想法: 在旅馆的具体页面中，可以查看饭店的电话以及信息，关于用户的评论也能查看。在页面的侧边，可以查看当地推送的其他饭店信息，便于用户可以通过多次对比选择自己想要去的饭店。

### 3.5 行程规划模块

#### 功能概述

在行程规划页面，进入页面首先引入眼帘的是高德的地图，显示了您当前的大致位置，通过搜索目的地可以通过polyline绘制出地图路线以及获取驾车时长和距离。
接下来就是行程规划，用户输入自己的目的地以及出发时间，到了提醒时间会进行消息推送服务，来提醒用户出发。

#### 功能详情

- 高德Api的使用
  - 设计想法: 首先采用定位的功能获取当前所在位置，然后将搜索的目的地进行反编码，获取到地理位置的经纬度，将当前位置的经纬度和目的地的经纬度作为参数发送给高德的api，用以获取路径，采用polyline进行绘制地图。
- 行程规划功能
  - 设计想法:平台采用了RabbitMq的消息延迟队列，对当前时间点和提醒时间点进行毫秒差的运算，将毫秒差设置为XXL（消息最大存活时间），当消息到达最大存活时间后，发送给死信交换机，再由死信交换机发送给死信队列，由消费者进行消费。

### 3.6 个人管理模块

#### 功能概述

登录成功的前提下，可以进入个人中心页面，查看自己的信息，对自己的个性签名、密码、邮箱账号等进行修改。并且在账号没有被封禁的前提下，可以发布游记信息，查看点赞过和收藏过的游记以及景点信息、查询评论交流过的酒店、饭店、景点、游记信息。
可以搜索他人的账号，对他人账号进行关注，查看他人账号的发布内容等信息。

#### 功能详情

- 个人信息页面
  - 点赞和收藏设计:通过数据库设计索引表的形式，记录用户对景点以及游记的点赞和收藏记录，用户在该列表下可以查询自己已浏览并记录过的信息。
  - 关注功能设计:用户可以在该页面搜索感兴趣的up主的账号或者用户名，查找到用户的信息，对用户进行关注以及查看该用户发布过的游记内容等。并且也能查询到自己粉丝的基本信息。

### 3.7 游记管理模块

#### 功能概述

在游记页面中，可以查询到用户们发布的游记内容，进入某一个游记中可以查看游记的发布时间、该用户的花销以及出游日期等基本信息。当然也能浏览用户的出游经历，也能对用户的游记进行评论。

#### 功能详情

- 游记信息页面
  - 点赞和收藏设计:对某一个游记进行点赞或者收藏，也能查询到该邮寄的收藏数以及点赞数。
  - 游记页面设计:用户在该页面可以查看游记的发布时间、该用户的花销以及出游日期等基本信息。当然也能浏览用户的出游经历，也能对用户的游记进行评论。

### 3.8 智谱清言AI大模型接口模块

#### 功能概述

在此页面中，对前端的聊天页面的用户体验是十分重要的。因此采用了传统的左右侧聊天方式。
另外对AI的接口二次封装尤其困难，包含了各种版本的模型以及操作。

#### 功能详情

- 交流页面
  - AI使用设计:在此页面中，采用了SSE的连接方式，对数据进行传送，实现动态的AI聊天功能，并且对数据进行保存，预留在前端的LocalStorage中。

### 3.9 评论区模块

#### 功能概述

无论是在餐馆、旅馆、景点，还是游记中，都采用了用户评论区的功能，数据库采用了动态的回复阶层设计思想，对每一条评论都严格的分层次，确保回复的对象正确。

#### 功能详情

- 评论功能
  - 评论区设计:评论区设计中，每个用户的发表评论都会显示评论时间以及用户名称，在每一个评论下面都可以存放回复该评论的内容，给到了用户更好的视觉体验。

### 3.10 人工智能模块

#### 功能概述

在此模块中设计了两个功能，分别是景点图片预测以及景点人数预测。

#### 功能详情

- 景点人数预测功能
  - 人数预测设计:通过对预先保存好的xsl文件的计算，使用sk-learn中的线性回归，让机器去读取往常的人数，对未来的数据进行线性分析，获得预测结果。
  - 图像识别模块:此模块比较特殊，原定为采用深度学习中的卷积神经网络算法CNN，由于数据量不足采用了调取百度科大讯飞的通用物体和场景识别Api，对该api进行二次封装成符合旅游平台需要的接口。
